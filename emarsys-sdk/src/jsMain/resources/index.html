<html lang="en">
<head>
    <title>Emarsys SDK demo</title>
    <script src="emarsys-sdk.js"></script>
</head>
<body>
<div style="display: flex; gap:1rem; flex-wrap:no-wrap">
    <div style="flex: 1;">
        <button type="button" id="button-sdk-test">Enable Tracking with <strong>sdk-test</strong>
            account
        </button>
    </div>
    <div style="flex: 1;">
        <button type="button" id="button-integration-demo">Enable Tracking with
            <strong>integration-demo</strong> account
        </button>
        <small>For testing with old push payload only</small>
    </div>
</div>
<hr>
<label>CustomEventName:
    <input id="customEventNameInput" name="customEventName" type="text">
</label>
<button type="button" id="button-custom-event">Track!</button>
</body>

<script>
    document.getElementById("button-sdk-test").onclick = async () => {
        const config = new window["emarsys-sdk"].JsEmarsysConfig(
            "EMSA4-90136",
            null
        )

        await emarsys.setup.enableTracking(config);
        await emarsys.contact.link(100027299, "test@test.com");
    }

    document.getElementById("button-integration-demo").onclick = async () => {
        const config = new window["emarsys-sdk"].JsEmarsysConfig(
            "EMS04-F3514",
            null,
            null,
            new window["emarsys-sdk"].com.emarsys.ServiceWorkerOptions(
                "BKlWDU3MxVpAEp7rjC5p9VYOhGBauYPO7K7b0117suJAoxaFzIwV4FT45eFI_hHBXgPlgKHyHDrbi1BpoKuiUww",
                "/ems-service-worker.js"
            )
        )
        await emarsys.setup.enableTracking(config);
        await emarsys.contact.link(2575, "test2@test.com");
    }

    document.getElementById("button-custom-event").onclick = async () => {
        await emarsys.tracking.trackCustomEvent(document.getElementById("customEventNameInput").value);
    }
</script>
</html>